# Pupilla

An R package for the processing and analysis of eye-tracking and
pupillometry data.

## Installation

The package is currently available through
[GitHub](https://github.com/). The installation requires the R package
`remotes`.

``` r
# install.packages("remotes")
remotes::install_github("EBlini/Pupilla")
```

## Scope

This is a collection of functions and wrappers that are useful for
preprocessing and analysis of eyetracking data, with a special focus on
pupillometry. Functions are generally hardware-agnostic, and have been
designed for data collected through third-part experiment builders such
as OpenSesame. Functions have been tested on Windows machines.

All functions are to be considered under development: all requests or
suggestions are more than welcome, :) .

Manuals, references, and vignettes are available at this link:
<https://eblini.github.io/Pupilla/>

For useful references, and an example of the results of these functions,
see [Castellotti et al,
2025](https://link.springer.com/article/10.3758/s13428-025-02786-0) and
[Blini, Arrighi, and Anobile,
2024](https://www.nature.com/articles/s41598-024-78772-x).

# Package index

## All functions

- [`animate_manifold()`](animate_manifold.md) : Animate a 3D scatterplot
  (based on plot3D) through gifski
- [`bayesian_test()`](bayesian_test.md) : Highlights and test the
  time-course of effects through bayes factors
- [`check_all_series()`](check_all_series.md) : Convenience function to
  check series across IDs and Trials, and save a plot in the current
  path
- [`check_series()`](check_series.md) : Plots two time series against
  each other
- [`consolidate_signal()`](consolidate_signal.md) : Consolidate pupil
  data according to different heuristics
- [`copy_variable()`](copy_variable.md) : copy a variable from one
  data.frame to another of different length given ID and Trial
  constraints
- [`decode_signal()`](decode_signal.md) : Highlights and test the
  time-course of effects through crossvalidation
- [`decode_signal_g()`](decode_signal_g.md) : Highlights and test the
  time-course of effects through crossvalidation (uses glmer)
- [`detect_change()`](detect_change.md) : Detect a change in a column,
  and returns an incremental counter
- [`downsample_time()`](downsample_time.md) : Recode a Time variable to
  a different granularity
- [`interpolate()`](interpolate.md) : Linearly interpolate signal
  provided quality checks are met, else only returns NAs
- [`interpret_bayes()`](interpret_bayes.md) : Interprets easily the
  results of 'bayesian_test'
- [`interpret_lmem()`](interpret_lmem.md) : Interprets easily the
  results of 'lmem_test'
- [`lmem_test()`](lmem_test.md) : Highlights and test the time-course of
  effects through mixed-effects models
- [`plot_fingerprints()`](plot_fingerprints.md) : Plot all (three)
  fingerprints of reduced time-series
- [`plot_loadings()`](plot_loadings.md) : Plot loadings of a reduced
  time-series
- [`plot_manifold()`](plot_manifold.md) : Plot a 3D scatterplot (based
  on plot3D) based on a reduce_rPCA object
- [`pp_options()`](pp_options.md) : Set or get options for Pupilla's
  preprocessing parameters
- [`pre_process()`](pre_process.md) : A convenience function to
  preprocess pupillometry data
- [`predict_feature()`](predict_feature.md) : Predicts features' scores
  from a model
- [`read_TOBII()`](read_TOBII.md) : Reads and imports TOBII eye-tracking
  and behavioral data
- [`read_eyelink()`](read_eyelink.md) : Reads and imports eyelink
  eye-tracking and behavioral data
- [`reduce_ICA()`](reduce_ICA.md) : Reduce time-series to few
  Independent Components
- [`reduce_PCA()`](reduce_PCA.md) : Reduce time-series to few Principal
  Components
- [`reduce_rPCA()`](reduce_rPCA.md) : Reduce time-series to few
  (rotated) Principal Components
- [`smooth_vector()`](smooth_vector.md) : Smooth a time series through
  cubic splines
- [`speed_clean()`](speed_clean.md) : Help identifying artifacts with a
  speed-based criterion
- [`trim_loadings()`](trim_loadings.md) : Trim rPCA loadings according
  to heuristics and append them to the original object

# Articles

### All vignettes

- [Pupilla::Advanced_statistical_analyses](Pupilla_Advanced_statistical_analyses.md):
- [Pupilla::Assessing_Pupillary_Manifold](Pupilla_Assessing_Pupillary_Manifold.md):
- [Pupilla::EyeLink::Read_and_preprocess](Pupilla_Eyelink_SingleSubjectPreprocessing.md):
- [Pupilla::TOBII::Reduce_Features](Pupilla_TOBII_ReduceFeatures.md):
- [Pupilla](Pupilla.md):
